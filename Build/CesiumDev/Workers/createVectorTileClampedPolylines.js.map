{"version":3,"file":"createVectorTileClampedPolylines.js","sources":["../../../packages/engine/Source/WorkersES6/createVectorTileClampedPolylines.js"],"sourcesContent":["import AttributeCompression from \"../Core/AttributeCompression.js\";\r\nimport Cartesian3 from \"../Core/Cartesian3.js\";\r\nimport Cartographic from \"../Core/Cartographic.js\";\r\nimport combine from \"../Core/combine.js\";\r\nimport Ellipsoid from \"../Core/Ellipsoid.js\";\r\nimport IndexDatatype from \"../Core/IndexDatatype.js\";\r\nimport CesiumMath from \"../Core/Math.js\";\r\nimport Rectangle from \"../Core/Rectangle.js\";\r\nimport createTaskProcessorWorker from \"./createTaskProcessorWorker.js\";\r\n\r\nconst MAX_SHORT = 32767;\r\nconst MITER_BREAK = Math.cos(CesiumMath.toRadians(150.0));\r\n\r\nconst scratchBVCartographic = new Cartographic();\r\nconst scratchEncodedPosition = new Cartesian3();\r\n\r\nfunction decodePositions(\r\n  uBuffer,\r\n  vBuffer,\r\n  heightBuffer,\r\n  rectangle,\r\n  minimumHeight,\r\n  maximumHeight,\r\n  ellipsoid\r\n) {\r\n  const positionsLength = uBuffer.length;\r\n  const decodedPositions = new Float64Array(positionsLength * 3);\r\n  for (let i = 0; i < positionsLength; ++i) {\r\n    const u = uBuffer[i];\r\n    const v = vBuffer[i];\r\n    const h = heightBuffer[i];\r\n\r\n    const lon = CesiumMath.lerp(rectangle.west, rectangle.east, u / MAX_SHORT);\r\n    const lat = CesiumMath.lerp(\r\n      rectangle.south,\r\n      rectangle.north,\r\n      v / MAX_SHORT\r\n    );\r\n    const alt = CesiumMath.lerp(minimumHeight, maximumHeight, h / MAX_SHORT);\r\n\r\n    const cartographic = Cartographic.fromRadians(\r\n      lon,\r\n      lat,\r\n      alt,\r\n      scratchBVCartographic\r\n    );\r\n    const decodedPosition = ellipsoid.cartographicToCartesian(\r\n      cartographic,\r\n      scratchEncodedPosition\r\n    );\r\n    Cartesian3.pack(decodedPosition, decodedPositions, i * 3);\r\n  }\r\n  return decodedPositions;\r\n}\r\n\r\nfunction getPositionOffsets(counts) {\r\n  const countsLength = counts.length;\r\n  const positionOffsets = new Uint32Array(countsLength + 1);\r\n  let offset = 0;\r\n  for (let i = 0; i < countsLength; ++i) {\r\n    positionOffsets[i] = offset;\r\n    offset += counts[i];\r\n  }\r\n  positionOffsets[countsLength] = offset;\r\n  return positionOffsets;\r\n}\r\n\r\nconst previousCompressedCartographicScratch = new Cartographic();\r\nconst currentCompressedCartographicScratch = new Cartographic();\r\nfunction removeDuplicates(uBuffer, vBuffer, heightBuffer, counts) {\r\n  const countsLength = counts.length;\r\n  const positionsLength = uBuffer.length;\r\n  const markRemoval = new Uint8Array(positionsLength);\r\n  const previous = previousCompressedCartographicScratch;\r\n  const current = currentCompressedCartographicScratch;\r\n  let offset = 0;\r\n  for (let i = 0; i < countsLength; i++) {\r\n    const count = counts[i];\r\n    let updatedCount = count;\r\n    for (let j = 1; j < count; j++) {\r\n      const index = offset + j;\r\n      const previousIndex = index - 1;\r\n      current.longitude = uBuffer[index];\r\n      current.latitude = vBuffer[index];\r\n      previous.longitude = uBuffer[previousIndex];\r\n      previous.latitude = vBuffer[previousIndex];\r\n\r\n      if (Cartographic.equals(current, previous)) {\r\n        updatedCount--;\r\n        markRemoval[previousIndex] = 1;\r\n      }\r\n    }\r\n    counts[i] = updatedCount;\r\n    offset += count;\r\n  }\r\n\r\n  let nextAvailableIndex = 0;\r\n  for (let k = 0; k < positionsLength; k++) {\r\n    if (markRemoval[k] !== 1) {\r\n      uBuffer[nextAvailableIndex] = uBuffer[k];\r\n      vBuffer[nextAvailableIndex] = vBuffer[k];\r\n      heightBuffer[nextAvailableIndex] = heightBuffer[k];\r\n      nextAvailableIndex++;\r\n    }\r\n  }\r\n}\r\n\r\nfunction VertexAttributesAndIndices(volumesCount) {\r\n  const vertexCount = volumesCount * 8;\r\n  const vec3Floats = vertexCount * 3;\r\n  const vec4Floats = vertexCount * 4;\r\n  this.startEllipsoidNormals = new Float32Array(vec3Floats);\r\n  this.endEllipsoidNormals = new Float32Array(vec3Floats);\r\n  this.startPositionAndHeights = new Float32Array(vec4Floats);\r\n  this.startFaceNormalAndVertexCornerIds = new Float32Array(vec4Floats);\r\n  this.endPositionAndHeights = new Float32Array(vec4Floats);\r\n  this.endFaceNormalAndHalfWidths = new Float32Array(vec4Floats);\r\n  this.vertexBatchIds = new Uint16Array(vertexCount);\r\n\r\n  this.indices = IndexDatatype.createTypedArray(vertexCount, 36 * volumesCount);\r\n\r\n  this.vec3Offset = 0;\r\n  this.vec4Offset = 0;\r\n  this.batchIdOffset = 0;\r\n  this.indexOffset = 0;\r\n\r\n  this.volumeStartIndex = 0;\r\n}\r\n\r\nconst towardCurrScratch = new Cartesian3();\r\nconst towardNextScratch = new Cartesian3();\r\nfunction computeMiteredNormal(\r\n  previousPosition,\r\n  position,\r\n  nextPosition,\r\n  ellipsoidSurfaceNormal,\r\n  result\r\n) {\r\n  const towardNext = Cartesian3.subtract(\r\n    nextPosition,\r\n    position,\r\n    towardNextScratch\r\n  );\r\n  let towardCurr = Cartesian3.subtract(\r\n    position,\r\n    previousPosition,\r\n    towardCurrScratch\r\n  );\r\n  Cartesian3.normalize(towardNext, towardNext);\r\n  Cartesian3.normalize(towardCurr, towardCurr);\r\n\r\n  if (Cartesian3.dot(towardNext, towardCurr) < MITER_BREAK) {\r\n    towardCurr = Cartesian3.multiplyByScalar(\r\n      towardCurr,\r\n      -1.0,\r\n      towardCurrScratch\r\n    );\r\n  }\r\n\r\n  Cartesian3.add(towardNext, towardCurr, result);\r\n  if (Cartesian3.equals(result, Cartesian3.ZERO)) {\r\n    result = Cartesian3.subtract(previousPosition, position);\r\n  }\r\n\r\n  // Make sure the normal is orthogonal to the ellipsoid surface normal\r\n  Cartesian3.cross(result, ellipsoidSurfaceNormal, result);\r\n  Cartesian3.cross(ellipsoidSurfaceNormal, result, result);\r\n  Cartesian3.normalize(result, result);\r\n  return result;\r\n}\r\n\r\n// Winding order is reversed so each segment's volume is inside-out\r\n//          3-----------7\r\n//         /|   left   /|\r\n//        / | 1       / |\r\n//       2-----------6  5  end\r\n//       | /         | /\r\n// start |/  right   |/\r\n//       0-----------4\r\n//\r\nconst REFERENCE_INDICES = [\r\n  0,\r\n  2,\r\n  6,\r\n  0,\r\n  6,\r\n  4, // right\r\n  0,\r\n  1,\r\n  3,\r\n  0,\r\n  3,\r\n  2, // start face\r\n  0,\r\n  4,\r\n  5,\r\n  0,\r\n  5,\r\n  1, // bottom\r\n  5,\r\n  3,\r\n  1,\r\n  5,\r\n  7,\r\n  3, // left\r\n  7,\r\n  5,\r\n  4,\r\n  7,\r\n  4,\r\n  6, // end face\r\n  7,\r\n  6,\r\n  2,\r\n  7,\r\n  2,\r\n  3, // top\r\n];\r\nconst REFERENCE_INDICES_LENGTH = REFERENCE_INDICES.length;\r\n\r\nconst positionScratch = new Cartesian3();\r\nconst scratchStartEllipsoidNormal = new Cartesian3();\r\nconst scratchStartFaceNormal = new Cartesian3();\r\nconst scratchEndEllipsoidNormal = new Cartesian3();\r\nconst scratchEndFaceNormal = new Cartesian3();\r\nVertexAttributesAndIndices.prototype.addVolume = function (\r\n  preStartRTC,\r\n  startRTC,\r\n  endRTC,\r\n  postEndRTC,\r\n  startHeight,\r\n  endHeight,\r\n  halfWidth,\r\n  batchId,\r\n  center,\r\n  ellipsoid\r\n) {\r\n  let position = Cartesian3.add(startRTC, center, positionScratch);\r\n  const startEllipsoidNormal = ellipsoid.geodeticSurfaceNormal(\r\n    position,\r\n    scratchStartEllipsoidNormal\r\n  );\r\n  position = Cartesian3.add(endRTC, center, positionScratch);\r\n  const endEllipsoidNormal = ellipsoid.geodeticSurfaceNormal(\r\n    position,\r\n    scratchEndEllipsoidNormal\r\n  );\r\n\r\n  const startFaceNormal = computeMiteredNormal(\r\n    preStartRTC,\r\n    startRTC,\r\n    endRTC,\r\n    startEllipsoidNormal,\r\n    scratchStartFaceNormal\r\n  );\r\n  const endFaceNormal = computeMiteredNormal(\r\n    postEndRTC,\r\n    endRTC,\r\n    startRTC,\r\n    endEllipsoidNormal,\r\n    scratchEndFaceNormal\r\n  );\r\n\r\n  const startEllipsoidNormals = this.startEllipsoidNormals;\r\n  const endEllipsoidNormals = this.endEllipsoidNormals;\r\n  const startPositionAndHeights = this.startPositionAndHeights;\r\n  const startFaceNormalAndVertexCornerIds = this\r\n    .startFaceNormalAndVertexCornerIds;\r\n  const endPositionAndHeights = this.endPositionAndHeights;\r\n  const endFaceNormalAndHalfWidths = this.endFaceNormalAndHalfWidths;\r\n  const vertexBatchIds = this.vertexBatchIds;\r\n\r\n  let batchIdOffset = this.batchIdOffset;\r\n  let vec3Offset = this.vec3Offset;\r\n  let vec4Offset = this.vec4Offset;\r\n\r\n  let i;\r\n  for (i = 0; i < 8; i++) {\r\n    Cartesian3.pack(startEllipsoidNormal, startEllipsoidNormals, vec3Offset);\r\n    Cartesian3.pack(endEllipsoidNormal, endEllipsoidNormals, vec3Offset);\r\n\r\n    Cartesian3.pack(startRTC, startPositionAndHeights, vec4Offset);\r\n    startPositionAndHeights[vec4Offset + 3] = startHeight;\r\n\r\n    Cartesian3.pack(endRTC, endPositionAndHeights, vec4Offset);\r\n    endPositionAndHeights[vec4Offset + 3] = endHeight;\r\n\r\n    Cartesian3.pack(\r\n      startFaceNormal,\r\n      startFaceNormalAndVertexCornerIds,\r\n      vec4Offset\r\n    );\r\n    startFaceNormalAndVertexCornerIds[vec4Offset + 3] = i;\r\n\r\n    Cartesian3.pack(endFaceNormal, endFaceNormalAndHalfWidths, vec4Offset);\r\n    endFaceNormalAndHalfWidths[vec4Offset + 3] = halfWidth;\r\n\r\n    vertexBatchIds[batchIdOffset++] = batchId;\r\n\r\n    vec3Offset += 3;\r\n    vec4Offset += 4;\r\n  }\r\n\r\n  this.batchIdOffset = batchIdOffset;\r\n  this.vec3Offset = vec3Offset;\r\n  this.vec4Offset = vec4Offset;\r\n  const indices = this.indices;\r\n  const volumeStartIndex = this.volumeStartIndex;\r\n\r\n  const indexOffset = this.indexOffset;\r\n  for (i = 0; i < REFERENCE_INDICES_LENGTH; i++) {\r\n    indices[indexOffset + i] = REFERENCE_INDICES[i] + volumeStartIndex;\r\n  }\r\n\r\n  this.volumeStartIndex += 8;\r\n  this.indexOffset += REFERENCE_INDICES_LENGTH;\r\n};\r\n\r\nconst scratchRectangle = new Rectangle();\r\nconst scratchEllipsoid = new Ellipsoid();\r\nconst scratchCenter = new Cartesian3();\r\n\r\nconst scratchPrev = new Cartesian3();\r\nconst scratchP0 = new Cartesian3();\r\nconst scratchP1 = new Cartesian3();\r\nconst scratchNext = new Cartesian3();\r\nfunction createVectorTileClampedPolylines(parameters, transferableObjects) {\r\n  const encodedPositions = new Uint16Array(parameters.positions);\r\n  const widths = new Uint16Array(parameters.widths);\r\n  const counts = new Uint32Array(parameters.counts);\r\n  const batchIds = new Uint16Array(parameters.batchIds);\r\n\r\n  // Unpack tile decoding parameters\r\n  const rectangle = scratchRectangle;\r\n  const ellipsoid = scratchEllipsoid;\r\n  const center = scratchCenter;\r\n  const packedBuffer = new Float64Array(parameters.packedBuffer);\r\n\r\n  let offset = 0;\r\n  const minimumHeight = packedBuffer[offset++];\r\n  const maximumHeight = packedBuffer[offset++];\r\n\r\n  Rectangle.unpack(packedBuffer, offset, rectangle);\r\n  offset += Rectangle.packedLength;\r\n\r\n  Ellipsoid.unpack(packedBuffer, offset, ellipsoid);\r\n  offset += Ellipsoid.packedLength;\r\n\r\n  Cartesian3.unpack(packedBuffer, offset, center);\r\n\r\n  let i;\r\n\r\n  // Unpack positions and generate volumes\r\n  let positionsLength = encodedPositions.length / 3;\r\n  const uBuffer = encodedPositions.subarray(0, positionsLength);\r\n  const vBuffer = encodedPositions.subarray(\r\n    positionsLength,\r\n    2 * positionsLength\r\n  );\r\n  const heightBuffer = encodedPositions.subarray(\r\n    2 * positionsLength,\r\n    3 * positionsLength\r\n  );\r\n  AttributeCompression.zigZagDeltaDecode(uBuffer, vBuffer, heightBuffer);\r\n\r\n  removeDuplicates(uBuffer, vBuffer, heightBuffer, counts);\r\n\r\n  // Figure out how many volumes and how many vertices there will be.\r\n  const countsLength = counts.length;\r\n  let volumesCount = 0;\r\n  for (i = 0; i < countsLength; i++) {\r\n    const polylinePositionCount = counts[i];\r\n    volumesCount += polylinePositionCount - 1;\r\n  }\r\n\r\n  const attribsAndIndices = new VertexAttributesAndIndices(volumesCount);\r\n\r\n  const positions = decodePositions(\r\n    uBuffer,\r\n    vBuffer,\r\n    heightBuffer,\r\n    rectangle,\r\n    minimumHeight,\r\n    maximumHeight,\r\n    ellipsoid,\r\n    center\r\n  );\r\n\r\n  positionsLength = uBuffer.length;\r\n  const positionsRTC = new Float32Array(positionsLength * 3);\r\n  for (i = 0; i < positionsLength; ++i) {\r\n    positionsRTC[i * 3] = positions[i * 3] - center.x;\r\n    positionsRTC[i * 3 + 1] = positions[i * 3 + 1] - center.y;\r\n    positionsRTC[i * 3 + 2] = positions[i * 3 + 2] - center.z;\r\n  }\r\n\r\n  let currentPositionIndex = 0;\r\n  let currentHeightIndex = 0;\r\n  for (i = 0; i < countsLength; i++) {\r\n    const polylineVolumeCount = counts[i] - 1;\r\n    const halfWidth = widths[i] * 0.5;\r\n    const batchId = batchIds[i];\r\n    const volumeFirstPositionIndex = currentPositionIndex;\r\n    for (let j = 0; j < polylineVolumeCount; j++) {\r\n      const volumeStart = Cartesian3.unpack(\r\n        positionsRTC,\r\n        currentPositionIndex,\r\n        scratchP0\r\n      );\r\n      const volumeEnd = Cartesian3.unpack(\r\n        positionsRTC,\r\n        currentPositionIndex + 3,\r\n        scratchP1\r\n      );\r\n\r\n      let startHeight = heightBuffer[currentHeightIndex];\r\n      let endHeight = heightBuffer[currentHeightIndex + 1];\r\n      startHeight = CesiumMath.lerp(\r\n        minimumHeight,\r\n        maximumHeight,\r\n        startHeight / MAX_SHORT\r\n      );\r\n      endHeight = CesiumMath.lerp(\r\n        minimumHeight,\r\n        maximumHeight,\r\n        endHeight / MAX_SHORT\r\n      );\r\n\r\n      currentHeightIndex++;\r\n\r\n      let preStart = scratchPrev;\r\n      let postEnd = scratchNext;\r\n      if (j === 0) {\r\n        // Check if this volume is like a loop\r\n        const finalPositionIndex =\r\n          volumeFirstPositionIndex + polylineVolumeCount * 3;\r\n        const finalPosition = Cartesian3.unpack(\r\n          positionsRTC,\r\n          finalPositionIndex,\r\n          scratchPrev\r\n        );\r\n        if (Cartesian3.equals(finalPosition, volumeStart)) {\r\n          Cartesian3.unpack(positionsRTC, finalPositionIndex - 3, preStart);\r\n        } else {\r\n          const offsetPastStart = Cartesian3.subtract(\r\n            volumeStart,\r\n            volumeEnd,\r\n            scratchPrev\r\n          );\r\n          preStart = Cartesian3.add(offsetPastStart, volumeStart, scratchPrev);\r\n        }\r\n      } else {\r\n        Cartesian3.unpack(positionsRTC, currentPositionIndex - 3, preStart);\r\n      }\r\n\r\n      if (j === polylineVolumeCount - 1) {\r\n        // Check if this volume is like a loop\r\n        const firstPosition = Cartesian3.unpack(\r\n          positionsRTC,\r\n          volumeFirstPositionIndex,\r\n          scratchNext\r\n        );\r\n        if (Cartesian3.equals(firstPosition, volumeEnd)) {\r\n          Cartesian3.unpack(\r\n            positionsRTC,\r\n            volumeFirstPositionIndex + 3,\r\n            postEnd\r\n          );\r\n        } else {\r\n          const offsetPastEnd = Cartesian3.subtract(\r\n            volumeEnd,\r\n            volumeStart,\r\n            scratchNext\r\n          );\r\n          postEnd = Cartesian3.add(offsetPastEnd, volumeEnd, scratchNext);\r\n        }\r\n      } else {\r\n        Cartesian3.unpack(positionsRTC, currentPositionIndex + 6, postEnd);\r\n      }\r\n\r\n      attribsAndIndices.addVolume(\r\n        preStart,\r\n        volumeStart,\r\n        volumeEnd,\r\n        postEnd,\r\n        startHeight,\r\n        endHeight,\r\n        halfWidth,\r\n        batchId,\r\n        center,\r\n        ellipsoid\r\n      );\r\n\r\n      currentPositionIndex += 3;\r\n    }\r\n    currentPositionIndex += 3;\r\n    currentHeightIndex++;\r\n  }\r\n\r\n  const indices = attribsAndIndices.indices;\r\n\r\n  transferableObjects.push(attribsAndIndices.startEllipsoidNormals.buffer);\r\n  transferableObjects.push(attribsAndIndices.endEllipsoidNormals.buffer);\r\n  transferableObjects.push(attribsAndIndices.startPositionAndHeights.buffer);\r\n  transferableObjects.push(\r\n    attribsAndIndices.startFaceNormalAndVertexCornerIds.buffer\r\n  );\r\n  transferableObjects.push(attribsAndIndices.endPositionAndHeights.buffer);\r\n  transferableObjects.push(attribsAndIndices.endFaceNormalAndHalfWidths.buffer);\r\n  transferableObjects.push(attribsAndIndices.vertexBatchIds.buffer);\r\n  transferableObjects.push(indices.buffer);\r\n\r\n  let results = {\r\n    indexDatatype:\r\n      indices.BYTES_PER_ELEMENT === 2\r\n        ? IndexDatatype.UNSIGNED_SHORT\r\n        : IndexDatatype.UNSIGNED_INT,\r\n    startEllipsoidNormals: attribsAndIndices.startEllipsoidNormals.buffer,\r\n    endEllipsoidNormals: attribsAndIndices.endEllipsoidNormals.buffer,\r\n    startPositionAndHeights: attribsAndIndices.startPositionAndHeights.buffer,\r\n    startFaceNormalAndVertexCornerIds:\r\n      attribsAndIndices.startFaceNormalAndVertexCornerIds.buffer,\r\n    endPositionAndHeights: attribsAndIndices.endPositionAndHeights.buffer,\r\n    endFaceNormalAndHalfWidths:\r\n      attribsAndIndices.endFaceNormalAndHalfWidths.buffer,\r\n    vertexBatchIds: attribsAndIndices.vertexBatchIds.buffer,\r\n    indices: indices.buffer,\r\n  };\r\n\r\n  if (parameters.keepDecodedPositions) {\r\n    const positionOffsets = getPositionOffsets(counts);\r\n    transferableObjects.push(positions.buffer, positionOffsets.buffer);\r\n    results = combine(results, {\r\n      decodedPositions: positions.buffer,\r\n      decodedPositionOffsets: positionOffsets.buffer,\r\n    });\r\n  }\r\n\r\n  return results;\r\n}\r\nexport default createTaskProcessorWorker(createVectorTileClampedPolylines);\r\n"],"names":["CesiumMath","Cartographic","Cartesian3","IndexDatatype","Rectangle","Ellipsoid","AttributeCompression","combine"],"mappings":"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"}